[1,0,0,[["cc.TextAsset",["_name","text"],1]],[[0,0,1,3]],[[0,"local","syntax = \"proto3\";\r\n\r\npackage operator.mengtan.games.battleRoyale.v1;\r\n\r\n// option go_package = \"protobuf/pb/operator/mengtan/games/battleRoyale/v1;battleRoyale_v1\";\r\noption go_package = \"game-server/protobuf/gen/operator/mengtan/games/battleRoyale/v1;v1\";\r\n\r\nenum InjuryFreeSkin {\r\n  INJURY_FREE_SKIN_UNSPECIFIED = 0;\r\n  INJURY_FREE_SKIN_15 = 1; // å…ä¼¤15%\r\n  INJURY_FREE_SKIN_10 = 2; // å…ä¼¤10%\r\n  INJURY_FREE_SKIN_5 = 3; // å…ä¼¤5%\r\n}\r\n\r\nmessage Player {\r\n  string nickName = 1; // æ˜µç§°\r\n  int32 spaceId = 2; // åŒºå—id\r\n  int32 uid = 3; // uid\r\n  bool isRandom = 4; // æ˜¯å¦éšæœº\r\n  InjuryFreeSkin skin = 5; // å…ä¼¤çš®è‚¤\r\n}\r\n\r\nmessage InjuryFree {\r\n  InjuryFreeSkin skin = 1; // çš®è‚¤\r\n  int64 ratio = 2; // å…ä¼¤æ¯”ä¾‹\r\n}\r\n\r\nmessage PlayerData {\r\n  int64 uid = 1; // uid\r\n  string nickName = 2; // æ˜µç§°\r\n  int64 money = 3; // é‡‘å¸\r\n  int32 spaceId = 4; // åŒºå—id\r\n  int64 totalBet = 5; // æ€»å‹ä½\r\n  InjuryFree injuryFree = 6; // å…ä¼¤\r\n}\r\n\r\nmessage SceneData {\r\n  int32 roomId = 1; // æˆ¿é—´id\r\n  int64 sceneId = 2; // åœºæ™¯id\r\n  int64 resultTime = 3; // ç»“ç®—æ—¶é—´æˆ³\r\n  map<int32, int64> betScatter = 4; // ä¸‹æ³¨åˆ†å¸ƒ\r\n}\r\n\r\n///////////////////// REQ && RESP /////////////////////\r\n\r\nmessage LeaveReq {\r\n}\r\nmessage LeaveResp {\r\n}\r\n\r\nmessage BetReq {\r\n  int64 sceneId = 1; // åœºæ™¯id\r\n  int64 money = 2; // ä¸‹æ³¨é‡‘é¢\r\n}\r\nmessage BetResp {\r\n  int64 totalBet = 1; // æ€»å…±æŠ•æ³¨\r\n  int64  money = 2; // ä½™é¢\r\n}\r\n\r\nmessage PickReq {\r\n  int64 sceneId = 1; // åœºæ™¯id\r\n  int32 spaceId = 2; // åŒºåŸŸid\r\n}\r\nmessage PickResp {\r\n}\r\n\r\nmessage SceneReq {\r\n\r\n}\r\nmessage SceneResp {\r\n  SceneData sceneData = 1; // åœºæ™¯ä¿¡æ¯\r\n  PlayerData ownerData = 2; // è‡ªèº«æ•°æ®\r\n  repeated Player players = 3; // ç©å®¶æ•°æ®\r\n  int32 betPlayerNum = 4; // æŠ•æ³¨ç©å®¶æ•°é‡     \r\n  int64 maintainSceneId = 5; // æœåŠ¡ç»´æŠ¤\r\n}\r\n\r\n// æ’è¡Œæ¦œ\r\nmessage RankReq {\r\n  enum Week {\r\n    WEEK_UNSPECIFIED = 0;\r\n    WEEK_THIS = 1; // æœ¬å‘¨\r\n    WEEK_LAST = 2; // ä¸Šå‘¨\r\n  }\r\n  Week week = 1;\r\n}\r\nmessage RankResp {\r\n  message Player {\r\n    string nickName = 1; // æ˜µç§°\r\n    string avatar = 2; // å¤´åƒ\r\n    int64 money = 3; // ğŸ’°\r\n    int32 rank = 4; // æ’å\r\n    InjuryFreeSkin skin = 5; // å…ä¼¤çš®è‚¤\r\n  }\r\n  Player own = 1; // ç©å®¶ä¿¡æ¯\r\n  repeated Player players = 2; // ç©å®¶æ’å\r\n}\r\n\r\n// è®°å½•\r\nmessage RecordReq {\r\n}\r\nmessage RecordResp {\r\n  message KillerRoomRecord {\r\n    int64 sceneId = 1; // åœºæ™¯id\r\n    int32 spaceId = 2; // åŒºåŸŸid\r\n  }\r\n  map<int32, int32> statistics = 1; // è¿‘100æœŸç»Ÿè®¡\r\n  repeated KillerRoomRecord killerRoomRecords = 2; // è¿‘10æœŸæ€æ‰‹æˆ¿é—´è®°å½•\r\n  int64 totalInvestMoney = 3; // æ€»æŠ•å…¥\r\n  int64 totalPrizeMoney = 4;  // æ€»äº§å‡º\r\n  message Record {\r\n    int64 sceneId = 1; // åœºæ™¯id\r\n    int64 resultTime = 2; // ç»“ç®—æ—¶é—´\r\n    int32 selectSpaceId = 3; // æ‰€é€‰åŒºåŸŸ\r\n    int32 killSpaceId = 4; // è¢«æ€åŒºåŸŸ\r\n    int64 investMoney = 5; // æŠ•å…¥\r\n    int64 prizeMoney = 6; // äº§å‡º\r\n    int32 isValid=7;//æ˜¯å¦æœ‰æ•ˆ\r\n  }\r\n  repeated Record records = 5; // å‚ä¸è®°å½•\r\n}\r\n\r\nmessage AllRoomReq {\r\n}\r\nmessage AllRoomResp {\r\n  message Room {\r\n    message Space {\r\n      int32 id = 1; // åŒºåŸŸid\r\n      string name = 2; // åŒºåŸŸåç§°\r\n    }\r\n    int32 id = 1; // æˆ¿é—´id\r\n    int32 moneyType = 2; // è´§å¸ç±»å‹\r\n    repeated int64 bets = 3; // å‹ä½åˆ—è¡¨\r\n    map<int32, Space> spaces = 4; // åŒºåŸŸé…ç½®\r\n    int32 roomDanceRate = 5;\r\n  }\r\n  map<int32, Room> rooms = 1;\r\n}\r\n\r\nmessage SelectRoomReq {\r\n  int32 roomId = 1; // æˆ¿é—´id\r\n}\r\nmessage SelectRoomResp {\r\n}\r\n\r\nmessage MoneyTransferReq {\r\n  int64 money = 1;\r\n}\r\nmessage MoneyTransferResp {\r\n  int64 money = 1;\r\n}\r\n\r\nmessage GetMoneyReq {\r\n  int32 moneyType = 1;\r\n}\r\nmessage GetMoneyResp {\r\n  int64 money = 2;\r\n}\r\n\r\nmessage ResultReq {\r\n  int32 sceneId = 1; // åœºæ™¯id\r\n}\r\nmessage ResultResp {\r\n  int64 winMoney = 1; // èµ¢å¾—é‡‘é¢\r\n  PlayerData ownerData = 2; // è‡ªèº«æ•°æ®\r\n}\r\n\r\nmessage NowTimeReq {\r\n}\r\nmessage NowTimeResp {\r\n  int64 timestamp = 1; // æ—¶é—´æˆ³\r\n  string zoneName = 2; // æ—¶åŒºå\r\n  int64 zoneOffset = 3; // æ—¶åŒºåç§»\r\n}\r\n\r\n///////////////////// PUSH /////////////////////\r\n\r\nmessage OnBetScatterUpdate {\r\n  int32 roomId = 1; // æˆ¿é—´id\r\n  int64 sceneId = 2; // æœŸæ•°\r\n  map<int32, int64> betScatter = 3; // ä¸‹æ³¨åˆ†å¸ƒ\r\n}\r\n\r\nmessage OnPlayerUpdate {\r\n  int32 roomId = 1; // æˆ¿é—´id\r\n  int64 sceneId = 2; // æœŸæ•°\r\n  repeated Player players = 3;  // ç©å®¶æ•°æ®\r\n  int32 betPlayerNum = 4; // æŠ•æ³¨ç©å®¶æ•°é‡\r\n}\r\n\r\nmessage OnSceneResult {\r\n  message Marquee {\r\n    enum Type {\r\n      TYPE_UNSPECIFIED = 0;\r\n      TYPE_INJURY_FREE = 1; // å…ä¼¤\r\n      TYPE_CRITICAL_HIT = 2; // æš´å‡»æ—¶åˆ»\r\n      TYPE_LUCKY = 3; // å¹¸è¿é™ä¸´\r\n    }\r\n    Type type = 1; // è·‘é©¬ç¯ç±»å‹\r\n    string nickName = 2; // æ˜µç§°\r\n    int64 totalBet = 3; // æ€»å‹ä½\r\n    map<string, string> value = 4; // å‚æ•°\r\n  }\r\n\r\n  SceneData sceneData = 1; // åœºæ™¯æ•°æ®\r\n  int32 killSpaceId = 2; // è¢«æ€åŒºåŸŸid\r\n  repeated Player players = 3; // ç©å®¶æ•°æ®\r\n  repeated Marquee marquees = 4; // è·‘é©¬ç¯\r\n}\r\n\r\nmessage OnServerMaintain {\r\n  int32 roomId = 1; // æˆ¿é—´id\r\n  int64 sceneId = 2; // åœºæ™¯id\r\n}\r\n"]],0,0,[],[],[]]
